exchange:
  env: prod
  mode: paper
  symbol: BTC_USDT_Perp
risk:
  inventory_skew_factor: 0.005
  max_drawdown_pct: 0.05
  max_loss_usd: 50.0
  max_position_usd: 5000.0
strategy:
  bollinger:
    period: 20
    std_dev: 2.0
  dynamic_spread:
    enabled: true
    reference_atr: 100.0
  entry_anchor_mode: false
  grid_layers: 7
  name: market_maker
  order_amount: 0.0
  order_size_usd: 200.0
  refresh_interval: 1
  rsi:
    overbought: 70
    oversold: 30
    period: 14
  spread_pct: 0.005
  trend_strategy: bollinger
  # Avellaneda-Stoikov Model Parameters
  avellaneda_stoikov:
    enabled: true
    gamma: 1.0  # Risk aversion (conservative - tighter spread)
    kappa: 1000  # Very high liquidity (BTC/USDT)
    session_length_hours: 24  # Trading session length
    min_spread: 0.001  # Min 0.1% (low volatility)
    max_spread: 0.01   # Max 1.0% (high volatility)
  ml_regime_enabled: true  # Enable ML-based regime detection
  regime_model_type: hmm    # 'gmm' or 'hmm'
  regime_model_path: data/regime_model.pkl      # GMM model path
  regime_model_hmm_path: data/regime_model_hmm.pkl  # HMM model path
  adaptive_tuning_enabled: true  # Enable online adaptive γ/κ tuning
  
  # Hybrid Volatility Strategy v3.10.0
  # Based on 1-year analysis: LOW=64.8%, MED=22.1%, HIGH=13.1%
  volatility_adaptation:
    enabled: true
    mode: hybrid  # NEW: 'hybrid' combines both strategies
    
    # Volatility regime thresholds (1-minute returns std)
    thresholds:
      low: 0.0005    # <0.05% = low volatility (64.8% of time)
      medium: 0.0008  # 0.05-0.08% = medium volatility (22.1%)
      # >0.08% = high volatility (13.1%)
    
    # Hybrid Mode Settings (v3.10.0)
    # LOW VOL = Conservative (Quote Skip + Wider Spread)
    low_vol_mode:
      spread_multiplier: 1.2    # 20% wider spreads
      quote_skip_prob: 0.7      # Skip 70% of cycles
      min_profit_bps: 5         # Only trade if 5+ bps profit expected
    
    # MED/HIGH VOL = Aggressive (v3.8.0 baseline)
    high_vol_mode:
      spread_multiplier: 1.0    # Normal spreads
      quote_skip_prob: 0.0      # No skipping
      min_profit_bps: 0         # Trade all opportunities



